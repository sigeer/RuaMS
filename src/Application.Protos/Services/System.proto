syntax = "proto3";

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "Base/TimeWrapper.proto";
import "Base/IPEndPoint.proto";
import "Config/RegisterServer.proto";
import "Config/WorldConfig.proto";
import "Message/DropMessage.proto";
import "Message/Packet.proto";
import "Message/Timer.proto";
import "Dto/Report.proto";
import "Config/AutoBanConfig.proto";
import "Config/Admin.proto";
import "Config/FlySetting.proto";
import "Dto/ClientInfo.proto";
import "Config/Shutdown.proto";
import "Config/ServerState.proto";
import "Server/MonitorData.proto";
import "Sync/GainCharacterSlot.proto";
import "Base/MessageWarpper.proto";

package ServiceProto;

service SystemService {
	rpc GetCurrentTime(google.protobuf.Empty) returns(BaseProto.TimeWrapper);
	rpc GetCurrentTimestamp(google.protobuf.Empty) returns(BaseProto.TimeWrapper);
	rpc GetChannelEndPoint(BaseProto.GetChannelEndPointRequest) returns(BaseProto.IPEndPointDto);

	rpc GetAutobanIgnores(google.protobuf.Empty) returns(Config.AutoBanIgnoredWrapper);

	rpc SetAccountFly(ConfigProto.SetFlyRequest) returns (ConfigProto.SetFlyResponse);
	rpc GetOnlinedPlayers(google.protobuf.Empty) returns(SystemProto.ShowOnlinePlayerResponse);
	rpc GetOnlinedClients(google.protobuf.Empty) returns(Dto.GetAllClientInfo);
	rpc GainCharacterSlot(SyncProto.GainAccountCharacterSlotRequest) returns(SyncProto.GainAccountCharacterSlotResponse);

	rpc ShutdownMaster(SystemProto.ShutdownMasterRequest) returns(google.protobuf.Empty);
	rpc GetServerState(google.protobuf.Empty) returns(SystemProto.ServerStateDto);
	rpc HealthCheck(ServerProto.MonitorData) returns(google.protobuf.Empty);
	rpc Connect(stream BaseProto.PacketWrapper) returns(stream BaseProto.PacketWrapper);
}